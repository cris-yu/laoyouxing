<view class="home-page">
  <!-- æ ‡é¢˜åŒºåŸŸ -->
  <view class="page-header">
    <text class="page-title">ç²¾é€‰çº¿è·¯</text>
    <text class="page-subtitle">é€‚åˆä¸­è€å¹´äººçš„å“è´¨æ—…æ¸¸</text>
  </view>

  <!-- ç­›é€‰åŒºåŸŸ -->
  <view class="filter-bar">
    <view class="filter-item">
      <text class="filter-label">å‡ºå‘åœ°</text>
      <picker mode="selector" range="{{departureCities}}" value="{{selectedCityIndex}}" bindchange="onCityChange">
        <view class="picker-box">
          <text class="picker-text">{{departureCities[selectedCityIndex]}}</text>
          <text class="picker-arrow">â–¼</text>
        </view>
      </picker>
    </view>

    <view class="filter-item">
      <text class="filter-label">å¤©æ•°</text>
      <picker mode="selector" range="{{dayOptions}}" value="{{selectedDayIndex}}" bindchange="onDayChange">
        <view class="picker-box">
          <text class="picker-text">{{dayOptions[selectedDayIndex]}}</text>
          <text class="picker-arrow">â–¼</text>
        </view>
      </picker>
    </view>

    <view class="filter-item">
      <text class="filter-label">ä»·æ ¼</text>
      <picker mode="selector" range="{{priceRanges}}" value="{{selectedPriceIndex}}" bindchange="onPriceChange">
        <view class="picker-box">
          <text class="picker-text">{{priceRanges[selectedPriceIndex]}}</text>
          <text class="picker-arrow">â–¼</text>
        </view>
      </picker>
    </view>
  </view>

  <!-- çº¿è·¯åˆ—è¡¨ -->
  <view class="route-list">
    <view class="route-card" wx:for="{{routes}}" wx:key="id" bindtap="goToDetail" data-id="{{item.id}}">
      <image class="route-image" src="{{item.coverImage}}" mode="aspectFill" />
      
      <view class="route-info">
        <view class="route-name">{{item.name}}</view>
        
        <view class="route-meta">
          <text class="meta-item">{{item.departureCity}} â†’ {{item.destinationCity}}</text>
          <text class="meta-item">{{item.days}}å¤©</text>
        </view>
        
        <view class="route-tags">
          <text class="tag" wx:for="{{item.tags}}" wx:key="index" wx:for-item="tag">{{tag}}</text>
        </view>
        
        <view class="route-features">
          <view class="feature-item">
            <text class="feature-label">é€‚åˆå¹´é¾„</text>
            <text class="feature-value">{{item.ageRange}}</text>
          </view>
          <view class="feature-item">
            <text class="feature-label">å¼ºåº¦çº§åˆ«</text>
            <text class="feature-value intensity-{{item.intensity}}">{{item.intensityText}}</text>
          </view>
          <view class="feature-item">
            <text class="feature-label">è´­ç‰©å®‰æ’</text>
            <text class="feature-value">{{item.shoppingText}}</text>
          </view>
        </view>
        
        <view class="route-footer">
          <view class="price-box">
            <text class="price-label">èµ·</text>
            <text class="price-value">Â¥{{item.priceFrom}}</text>
          </view>
          <view class="view-detail-btn">æŸ¥çœ‹è¯¦æƒ… â€º</view>
        </view>
      </view>
    </view>

    <!-- åŠ è½½çŠ¶æ€ -->
    <view class="loading-tip" wx:if="{{loading}}">
      <text>åŠ è½½ä¸­...</text>
    </view>

    <!-- ç©ºçŠ¶æ€ -->
    <view class="empty-tip" wx:if="{{!loading && routes.length === 0}}">
      <text class="empty-icon">ğŸ“­</text>
      <text class="empty-text">æš‚æ— ç¬¦åˆæ¡ä»¶çš„çº¿è·¯</text>
      <text class="empty-hint">è¯•è¯•è°ƒæ•´ç­›é€‰æ¡ä»¶</text>
    </view>
  </view>
</view>
